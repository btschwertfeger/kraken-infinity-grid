
    def build_update_message() -> str:
        """Build a message for updates."""
        balances = self.__s.get_balances()

        message = f"ðŸ‘‘ {self.__s.symbol}\n"
        message += f"â”” Price Â» {self.__s.ticker.last} {self.__s.quote_currency}\n\n"

        message += "âšœï¸ Account\n"
        message += f"â”œ Total {self.__s.base_currency} Â» {balances['base_balance']}\n"
        message += f"â”œ Total {self.__s.quote_currency} Â» {balances['quote_balance']}\n"
        message += (
            f"â”œ Available {self.__s.quote_currency} Â» {balances['quote_available']}\n"
        )
        message += f"â”œ Available {self.__s.base_currency} Â» {balances['base_available'] - float(self.__s.configuration.get()['vol_of_unfilled_remaining'])}\n"  # noqa: E501
        message += f"â”œ Unfilled surplus of {self.__s.base_currency} Â» {self.__s.configuration.get()['vol_of_unfilled_remaining']}\n"  # noqa: E501
        message += f"â”œ Wealth Â» {round(balances['base_balance'] * self.__s.ticker.last + balances['quote_balance'], self.__s.cost_decimals)} {self.__s.quote_currency}\n"  # noqa: E501
        message += f"â”” Investment Â» {round(self.__s.investment, self.__s.cost_decimals)} / {self.__s.max_investment} {self.__s.quote_currency}\n\n"  # noqa: E501

        message += "ðŸ’  Orders\n"
        message += f"â”œ Amount per Grid Â» {self.__s.amount_per_grid} {self.__s.quote_currency}\n"
        message += f"â”” Open orders Â» {self.__s.orderbook.count()}\n"

        message += "\n```\n"
        message += f" ðŸ·ï¸ Price in {self.__s.quote_currency}\n"
        max_orders_to_list: int = 5

        next_sells = [
            order["price"]
            for order in self.__s.orderbook.get_orders(
                filters={"side": OrderSide.SELL},
                order_by=("price", "ASC"),
                limit=max_orders_to_list,
            )
        ]
        next_sells.reverse()

        if (n_sells := len(next_sells)) == 0:
            message += f"â””â”€â”€â”€â”¬> {self.__s.ticker.last}\n"
        else:
            for index, sell_price in enumerate(next_sells):
                change = (sell_price / self.__s.ticker.last - 1) * 100
                if index == 0:
                    message += f" â”‚  â”Œ[ {sell_price} (+{change:.2f}%)\n"
                elif index <= n_sells - 1 and index != max_orders_to_list:
                    message += f" â”‚  â”œ[ {sell_price} (+{change:.2f}%)\n"
            message += f" â””â”€â”€â”¼> {self.__s.ticker.last}\n"

        next_buys = [
            order["price"]
            for order in self.__s.orderbook.get_orders(
                filters={"side": OrderSide.BUY},
                order_by=("price", "DESC"),
                limit=max_orders_to_list,
            )
        ]
        if (n_buys := len(next_buys)) != 0:
            for index, buy_price in enumerate(next_buys):
                change = (buy_price / self.__s.ticker.last - 1) * 100
                if index < n_buys - 1 and index != max_orders_to_list:
                    message += f"    â”œ[ {buy_price} ({change:.2f}%)\n"
                else:
                    message += f"    â””[ {buy_price} ({change:.2f}%)"
        message += "\n```"

        self._event_bus.publish("notification", {"message": message})
        self.__s.configuration.update({"last_telegram_update": datetime.now()})
